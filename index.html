<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample HTML Page</title>
</head>
<body>
hello world

<script>
    // JavaScript code can be added here
    console.log("Page loaded"); 
    const tkn = './vt.txt'
    const url = 'https://demo-api.vivapayments.com/checkout/v2/orders'
    fetch(tkn)
        .then(response => response.text())
        .then(data => {
            console.log("Contents of vt.txt:", data);
            return data
        })
        .then(token => {
            // Example of using the token in an API call
            return fetch(url, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${token.trim()}`,
                    'Content-Type': 'application/json'
                },                
                body: JSON.stringify({
                    "amount": 1234,
                    "customerTrns": "string",
                    "customer": {
                        "email": "string",
                        "fullName": "string",
                        "phone": "string",
                        "countryCode": "string",
                        "requestLang": "string"
                    },
                    "dynamicDescriptor": "Descriptor",
                    "paymentTimeout": 1800,
                    "currencyCode": 978,
                    "preauth": false,
                    "allowRecurring": false,
                    "maxInstallments": 0,
                    "forceMaxInstallments": false,
                    "paymentNotification": false,
                    "tipAmount": 0,
                    "disableExactAmount": false,
                    "disableCash": false,
                    "disableWallet": false,
                    "sourceCode": "Default"
                })
            })
            .then(response => response.json());
        })
        .then(orderData => {
            console.log("Order data:", orderData);
        })
        .catch(error => console.error('Error fetching vt.txt:', error));
</script>
</body>
</html>
